# --- 座標設定ファイル ---
# このファイル内の値を変更することで、解析領域を調整できます。

# --- コース名リスト ---
COURSE_NAMES = [
    "マリオブラザーズサーキット", "トロフィーシティ", "シュポポコースター", "DKうちゅうセンター",
    "サンサンさばく", "ヘイホーカーニバル", "ワリオスタジアム", "キラーシップ", "DKスノーマウンテン",
    "ロゼッタてんもんだい", "アイスビルディング", "ワリオシップ", "ノコノコビーチ",
    "リバーサイドサファリ", "ピーチスタジアム", "バナナカップピーチビーチ", "ソルティータウン",
    "ディノディノジャングル", "ハテナしんでん", "プクプクフォールズ", "ショーニューロード", "おばけシネマ",
    "ホネホネツイスター", "モーモーカントリー", "チョコマウンテン", "キノピオファクトリー",
    "クッパキャッスル", "どんぐりツリーハウス", "マリオサーキット", "レインボーロード"
]

# --- レース前の「コース決定画面」関連 ---
COURSE_DECISION_RATE_COORDS_LEFT = [
    {'x1': 440, 'y1': 100 + i*76, 'x2': 520, 'y2': 140 + i*76} for i in range(12)
]
COURSE_DECISION_RATE_COORDS_RIGHT = [
    {'x1': 945, 'y1': 100 + i*76, 'x2': 1025, 'y2': 140 + i*76} for i in range(12)
]
ALL_PLAYER_SLOTS = COURSE_DECISION_RATE_COORDS_LEFT + COURSE_DECISION_RATE_COORDS_RIGHT

# Geminiに渡す、画面右半分のコース情報が含まれる広範囲エリア
COURSE_SEARCH_AREA = {'x1': 1100, 'y1': 100, 'x2': 1900, 'y2': 900}

# 単独コース名が表示される中央のエリア
SINGLE_COURSE_NAME_AREA = {'x1': 1350, 'y1': 350, 'x2': 1650, 'y2': 400}


# --- レース後の「リザルト画面」関連 ---
BASE_COORDS = {
    'rank':      {'x1': 1070, 'y1': 45, 'x2': 1135, 'y2': 110},
    'rate':      {'x1': 1730, 'y1': 45, 'x2': 1860, 'y2': 110},
    'rate_change': {'x1': 1630, 'y1': 45, 'x2': 1730, 'y2': 110},
}
BASE_Y_STEP = 77
RESULT_COORDS = {}
for i in range(1, 14):
    y_offset = (i - 1) * BASE_Y_STEP
    RESULT_COORDS[f'rank_{i}'] = (BASE_COORDS['rank']['x1'], BASE_COORDS['rank']['y1'] + y_offset, BASE_COORDS['rank']['x2'], BASE_COORDS['rank']['y2'] + y_offset)
    RESULT_COORDS[f'rate_{i}'] = (BASE_COORDS['rate']['x1'], BASE_COORDS['rate']['y1'] + y_offset, BASE_COORDS['rate']['x2'], BASE_COORDS['rate']['y2'] + y_offset)
    RESULT_COORDS[f'rate_change_{i}'] = (BASE_COORDS['rate_change']['x1'], BASE_COORDS['rate_change']['y1'] + y_offset, BASE_COORDS['rate_change']['x2'], BASE_COORDS['rate_change']['y2'] + y_offset)

# --- リザルト画面のハイライト検出に使用するHSV色の範囲 ---
LOWER_HIGHLIGHT = [15, 100, 100]
UPPER_HIGHLIGHT = [40, 255, 255]

# --- 2連続レースの有効なルート定義 ---
VALID_ROUTES = [
    ["DKうちゅうセンター", "サンサンさばく"], ["DKうちゅうセンター", "シュポポコースター"], ["DKうちゅうセンター", "トロフィーシティ"],
    ["DKうちゅうセンター", "ノコノコビーチ"], ["DKうちゅうセンター", "ピーチスタジアム"], ["DKうちゅうセンター", "マリオブラザーズサーキット"],
    ["DKスノーマウンテン", "アイスビルディング"], ["DKスノーマウンテン", "ショーニューロード"], ["DKスノーマウンテン", "ソルティータウン"],
    ["DKスノーマウンテン", "プクプクフォールズ"], ["DKスノーマウンテン", "モーモーカントリー"], ["DKスノーマウンテン", "ロゼッタてんもんだい"],
    ["DKスノーマウンテン", "ワリオシップ"], ["アイスビルディング", "DKスノーマウンテン"], ["アイスビルディング", "ショーニューロード"],
    ["アイスビルディング", "ソルティータウン"], ["アイスビルディング", "プクプクフォールズ"], ["アイスビルディング", "ロゼッタてんもんだい"],
    ["アイスビルディング", "ワリオシップ"], ["おばけシネマ", "ショーニューロード"], ["おばけシネマ", "どんぐりツリーハウス"],
    ["おばけシネマ", "ホネホネツイスター"], ["おばけシネマ", "マリオサーキット"], ["おばけシネマ", "ロゼッタてんもんだい"],
    ["キノピオファクトリー", "キラーシップ"], ["キノピオファクトリー", "クッパキャッスル"], ["キノピオファクトリー", "ショーニューロード"],
    ["キノピオファクトリー", "チョコマウンテン"], ["キノピオファクトリー", "どんぐりツリーハウス"], ["キノピオファクトリー", "ピーチスタジアム"],
    ["キノピオファクトリー", "ホネホネツイスター"], ["キノピオファクトリー", "マリオサーキット"], ["キノピオファクトリー", "マリオブラザーズサーキット"],
    ["キノピオファクトリー", "モーモーカントリー"], ["キノピオファクトリー", "ワリオスタジアム"], ["キラーシップ", "キノピオファクトリー"],
    ["キラーシップ", "クッパキャッスル"], ["キラーシップ", "ヘイホーカーニバル"], ["キラーシップ", "ホネホネツイスター"],
    ["キラーシップ", "ワリオスタジアム"], ["クッパキャッスル", "キノピオファクトリー"], ["クッパキャッスル", "キラーシップ"],
    ["クッパキャッスル", "チョコマウンテン"], ["クッパキャッスル", "ホネホネツイスター"], ["クッパキャッスル", "マリオサーキット"],
    ["クッパキャッスル", "ワリオスタジアム"], ["サンサンさばく", "シュポポコースター"], ["サンサンさばく", "トロフィーシティ"],
    ["サンサンさばく", "ノコノコビーチ"], ["サンサンさばく", "ヘイホーカーニバル"], ["サンサンさばく", "マリオブラザーズサーキット"],
    ["シュポポコースター", "DKうちゅうセンター"], ["シュポポコースター", "サンサンさばく"], ["シュポポコースター", "チョコマウンテン"],
    ["シュポポコースター", "トロフィーシティ"], ["シュポポコースター", "ノコノコビーチ"], ["シュポポコースター", "マリオブラザーズサーキット"],
    ["ショーニューロード", "DKスノーマウンテン"], ["ショーニューロード", "アイスビルディング"], ["ショーニューロード", "おばけシネマ"],
    ["ショーニューロード", "キノピオファクトリー"], ["ショーニューロード", "どんぐりツリーハウス"], ["ショーニューロード", "プクプクフォールズ"],
    ["ショーニューロード", "マリオサーキット"], ["ショーニューロード", "モーモーカントリー"], ["ショーニューロード", "ロゼッタてんもんだい"],
    ["ソルティータウン", "DKスノーマウンテン"], ["ソルティータウン", "ディノディノジャングル"], ["ソルティータウン", "ハテナしんでん"],
    ["ソルティータウン", "ピーチビーチ"], ["ソルティータウン", "プクプクフォールズ"], ["ソルティータウン", "リバーサイドサファリ"],
    ["ソルティータウン", "ワリオシップ"], ["チョコマウンテン", "キノピオファクトリー"], ["チョコマウンテン", "クッパキャッスル"],
    ["チョコマウンテン", "シュポポコースター"], ["チョコマウンテン", "トロフィーシティ"], ["チョコマウンテン", "ピーチスタジアム"],
    ["チョコマウンテン", "プクプクフォールズ"], ["チョコマウンテン", "ヘイホーカーニバル"], ["チョコマウンテン", "マリオブラザーズサーキット"],
    ["チョコマウンテン", "モーモーカントリー"], ["チョコマウンテン", "ワリオスタジアム"], ["ディノディノジャングル", "ソルティータウン"],
    ["ディノディノジャングル", "ノコノコビーチ"], ["ディノディノジャングル", "ハテナしんでん"], ["ディノディノジャングル", "ピーチビーチ"],
    ["ディノディノジャングル", "リバーサイドサファリ"], ["トロフィーシティ", "DKうちゅうセンター"], ["トロフィーシティ", "サンサンさばく"],
    ["トロフィーシティ", "シュポポコースター"], ["トロフィーシティ", "チョコマウンテン"], ["トロフィーシティ", "ノコノコビーチ"],
    ["トロフィーシティ", "ピーチスタジアム"], ["トロフィーシティ", "マリオブラザーズサーキット"], ["トロフィーシティ", "モーモーカントリー"],
    ["トロフィーシティ", "リバーサイドサファリ"], ["トロフィーシティ", "ワリオスタジアム"], ["どんぐりツリーハウス", "おばけシネマ"],
    ["どんぐりツリーハウス", "キノピオファクトリー"], ["どんぐりツリーハウス", "ショーニューロード"], ["どんぐりツリーハウス", "ホネホネツイスター"],
    ["どんぐりツリーハウス", "マリオサーキット"], ["ノコノコビーチ", "DKうちゅうセンター"], ["ノコノコビーチ", "ディノディノジャングル"],
    ["ノコノコビーチ", "トロフィーシティ"], ["ノコノコビーチ", "ピーチスタジアム"], ["ノコノコビーチ", "リバーサイドサファリ"],
    ["ハテナしんでん", "ソルティータウン"], ["ハテナしんでん", "ディノディノジャングル"], ["ハテナしんでん", "ノコノコビーチ"],
    ["ハテナしんでん", "ピーチビーチ"], ["ハテナしんでん", "リバーサイドサファリ"], ["ピーチスタジアム", "キノピオファクトリー"],
    ["ピーチスタジアム", "チョコマウンテン"], ["ピーチスタジアム", "トロフィーシティ"], ["ピーチスタジアム", "ノコノコビーチ"],
    ["ピーチスタジアム", "プクプクフォールズ"], ["ピーチスタジアム", "モーモーカントリー"], ["ピーチスタジアム", "リバーサイドサファリ"],
    ["ピーチスタジアム", "レインボーロード"], ["ピーチビーチ", "ソルティータウン"], ["ピーチビーチ", "ディノディノジャングル"],
    ["ピーチビーチ", "ハテナしんでん"], ["ピーチビーチ", "リバーサイドサファリ"], ["ピーチビーチ", "ワリオシップ"],
    ["プクプクフォールズ", "DKスノーマウンテン"], ["プクプクフォールズ", "ショーニューロード"], ["プクプクフォールズ", "ソルティータウン"],
    ["プクプクフォールズ", "チョコマウンテン"], ["プクプクフォールズ", "ピーチスタジアム"], ["プクプクフォールズ", "モーモーカントリー"],
    ["プクプクフォールズ", "リバーサイドサファリ"], ["プクプクフォールズ", "ロゼッタてんもんだい"], ["プクプクフォールズ", "ワリオシップ"],
    ["ヘイホーカーニバル", "キラーシップ"], ["ヘイホーカーニバル", "サンサンさばく"], ["ヘイホーカーニバル", "チョコマウンテン"],
    ["ヘイホーカーニバル", "マリオブラザーズサーキット"], ["ヘイホーカーニバル", "ワリオスタジアム"], ["ホネホネツイスター", "おばけシネマ"],
    ["ホネホネツイスター", "キノピオファクトリー"], ["ホネホネツイスター", "キラーシップ"], ["ホネホネツイスター", "クッパキャッスル"],
    ["ホネホネツイスター", "どんぐりツリーハウス"], ["ホネホネツイスター", "マリオサーキット"], ["ホネホネツイスター", "モーモーカントリー"],
    ["ホネホネツイスター", "ワリオスタジアム"], ["マリオサーキット", "おばけシネマ"], ["マリオサーキット", "キノピオファクトリー"],
    ["マリオサーキット", "クッパキャッスル"], ["マリオサーキット", "ショーニューロード"], ["マリオサーキット", "どんぐりツリーハウス"],
    ["マリオサーキット", "ピーチスタジアム"], ["マリオサーキット", "ホネホネツイスター"], ["マリオサーキット", "モーモーカントリー"],
    ["マリオサーキット", "ロゼッタてんもんだい"], ["マリオブラザーズサーキット", "キノピオファクトリー"], ["マリオブラザーズサーキット", "サンサンさばく"],
    ["マリオブラザーズサーキット", "シュポポコースター"], ["マリオブラザーズサーキット", "チョコマウンテン"], ["マリオブラザーズサーキット", "トロフィーシティ"],
    ["マリオブラザーズサーキット", "ヘイホーカーニバル"], ["マリオブラザーズサーキット", "ワリオスタジアム"], ["モーモーカントリー", "DKスノーマウンテン"],
    ["モーモーカントリー", "キノピオファクトリー"], ["モーモーカントリー", "ショーニューロード"], ["モーモーカントリー", "チョコマウンテン"],
    ["モーモーカントリー", "トロフィーシティ"], ["モーモーカントリー", "ピーチスタジアム"], ["モーモーカントリー", "プクプクフォールズ"],
    ["モーモーカントリー", "ホネホネツイスター"], ["モーモーカントリー", "マリオサーキット"], ["リバーサイドサファリ", "ソルティータウン"],
    ["リバーサイドサファリ", "ディノディノジャングル"], ["リバーサイドサファリ", "トロフィーシティ"], ["リバーサイドサファリ", "ノコノコビーチ"],
    ["リバーサイドサファリ", "ハテナしんでん"], ["リバーサイドサファリ", "ピーチスタジアム"], ["リバーサイドサファリ", "ピーチビーチ"],
    ["リバーサイドサファリ", "プクプクフォールズ"], ["ロゼッタてんもんだい", "DKスノーマウンテン"], ["ロゼッタてんもんだい", "アイスビルディング"],
    ["ロゼッタてんもんだい", "おばけシネマ"], ["ロゼッタてんもんだい", "ショーニューロード"], ["ロゼッタてんもんだい", "プクプクフォールズ"],
    ["ロゼッタてんもんだい", "マリオサーキット"], ["ロゼッタてんもんだい", "ワリオシップ"], ["ワリオシップ", "DKスノーマウンテン"],
    ["ワリオシップ", "アイスビルディング"], ["ワリオシップ", "ソルティータウン"], ["ワリオシップ", "ピーチビーチ"],
    ["ワリオシップ", "プクプクフォールズ"], ["ワリオシップ", "ロゼッタてんもんだい"], ["ワリオスタジアム", "キノピオファクトリー"],
    ["ワリオスタジアム", "キラーシップ"], ["ワリオスタジアム", "クッパキャッスル"], ["ワリオスタジアム", "チョコマウンテン"],
    ["ワリオスタジアム", "トロフィーシティ"], ["ワリオスタジアム", "ヘイホーカーニバル"], ["ワリオスタジアム", "ホネホネツイスター"],
    ["ワリオスタジアム", "マリオブラザーズサーキット"], ["DKうちゅうセンター", "コース単体"], ["DKスノーマウンテン", "コース単体"],
    ["アイスビルディング", "コース単体"], ["おばけシネマ", "コース単体"], ["キノピオファクトリー", "コース単体"], ["キラーシップ", "コース単体"],
    ["クッパキャッスル", "コース単体"], ["サンサンさばく", "コース単体"], ["シュポポコースター", "コース単体"], ["ショーニューロード", "コース単体"],
    ["ソルティータウン", "コース単体"], ["チョコマウンテン", "コース単体"], ["ディノディノジャングル", "コース単体"], ["トロフィーシティ", "コース単体"],
    ["どんぐりツリーハウス", "コース単体"], ["ノコノコビーチ", "コース単体"], ["ハテナしんでん", "コース単体"], ["ピーチスタジアム", "コース単体"],
    ["ピーチビーチ", "コース単体"], ["プクプクフォールズ", "コース単体"], ["ヘイホーカーニバル", "コース単体"], ["ホネホネツイスター", "コース単体"],
    ["マリオサーキット", "コース単体"], ["マリオブラザーズサーキット", "コース単体"], ["モーモーカントリー", "コース単体"], ["リバーサイドサファリ", "コース単体"],
    ["レインボーロード", "コース単体"], ["ロゼッタてんもんだい", "コース単体"], ["ワリオシップ", "コース単体"], ["ワリオスタジアム", "コース単体"],
]

# GUIで使いやすいように、始点コースをキーにした辞書を作成しておく
VALID_ROUTES_MAP = {}
for start, end in VALID_ROUTES:
    # "コース単体"をGUIで使っている"（無し）"に置き換える
    end_point = "（無し）" if end == "コース単体" else end
    if start not in VALID_ROUTES_MAP:
        VALID_ROUTES_MAP[start] = []
    VALID_ROUTES_MAP[start].append(end_point)